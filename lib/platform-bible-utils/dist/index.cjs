"use strict";var rt=Object.defineProperty;var st=(t,e,r)=>e in t?rt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var d=(t,e,r)=>(st(t,typeof e!="symbol"?e+"":e,r),r);Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const nt=require("async-mutex");class it{constructor(e,r=1e4){d(this,"variableName");d(this,"promiseToValue");d(this,"resolver");d(this,"rejecter");this.variableName=e,this.promiseToValue=new Promise((s,n)=>{this.resolver=s,this.rejecter=n}),r>0&&setTimeout(()=>{this.rejecter&&(this.rejecter(`Timeout reached when waiting for ${this.variableName} to settle`),this.complete())},r),Object.seal(this)}get promise(){return this.promiseToValue}get hasSettled(){return Object.isFrozen(this)}resolveToValue(e,r=!1){if(this.resolver)console.debug(`${this.variableName} is being resolved now`),this.resolver(e),this.complete();else{if(r)throw Error(`${this.variableName} was already settled`);console.debug(`Ignoring subsequent resolution of ${this.variableName}`)}}rejectWithReason(e,r=!1){if(this.rejecter)console.debug(`${this.variableName} is being rejected now`),this.rejecter(e),this.complete();else{if(r)throw Error(`${this.variableName} was already settled`);console.debug(`Ignoring subsequent rejection of ${this.variableName}`)}}complete(){this.resolver=void 0,this.rejecter=void 0,Object.freeze(this)}}class ot{constructor(e,r){d(this,"collator");this.collator=new Intl.Collator(e,r)}compare(e,r){return this.collator.compare(e,r)}resolvedOptions(){return this.collator.resolvedOptions()}}class de{constructor(e,r){d(this,"dateTimeFormatter");this.dateTimeFormatter=new Intl.DateTimeFormat(e,r)}format(e){return this.dateTimeFormatter.format(e)}formatRange(e,r){return this.dateTimeFormatter.formatRange(e,r)}formatRangeToParts(e,r){return this.dateTimeFormatter.formatRangeToParts(e,r)}formatToParts(e){return this.dateTimeFormatter.formatToParts(e)}resolvedOptions(){return this.dateTimeFormatter.resolvedOptions()}}class me{constructor(){d(this,"subscribe",this.event);d(this,"subscriptions");d(this,"lazyEvent");d(this,"isDisposed",!1);d(this,"dispose",()=>this.disposeFn());d(this,"emit",e=>{this.emitFn(e)})}get event(){return this.assertNotDisposed(),this.lazyEvent||(this.lazyEvent=e=>{if(!e||typeof e!="function")throw new Error("Event handler callback must be a function!");return this.subscriptions||(this.subscriptions=[]),this.subscriptions.push(e),()=>{if(!this.subscriptions)return!1;const r=this.subscriptions.indexOf(e);return r<0?!1:(this.subscriptions.splice(r,1),!0)}}),this.lazyEvent}emitFn(e){this.assertNotDisposed(),[...this.subscriptions??[]].forEach(s=>s(e))}assertNotDisposed(){if(this.isDisposed)throw new Error("Emitter is disposed")}disposeFn(){return this.assertNotDisposed(),this.isDisposed=!0,this.subscriptions=void 0,this.lazyEvent=void 0,Promise.resolve(!0)}}function at(){return"00-0-4-1-000".replace(/[^-]/g,t=>((Math.random()+~~t)*65536>>t).toString(16).padStart(4,"0"))}function ge(t){return typeof t=="string"||t instanceof String}function A(t){return JSON.parse(JSON.stringify(t))}function ut(t,e=300){if(ge(t))throw new Error("Tried to debounce a string! Could be XSS");let r;return(...s)=>{clearTimeout(r),r=setTimeout(()=>t(...s),e)}}function lt(t,e,r){const s=new Map;return t.forEach(n=>{const i=e(n),o=s.get(i),a=r?r(n,i):n;o?o.push(a):s.set(i,[a])}),s}function ct(t){return typeof t=="object"&&t!==null&&"message"in t&&typeof t.message=="string"}function ft(t){if(ct(t))return t;try{return new Error(JSON.stringify(t))}catch{return new Error(String(t))}}function ht(t){return ft(t).message}function be(t){return new Promise(e=>setTimeout(e,t))}function pt(t,e){const r=be(e).then(()=>{});return Promise.any([r,t()])}function dt(t,e="obj"){const r=new Set;Object.getOwnPropertyNames(t).forEach(n=>{try{typeof t[n]=="function"&&r.add(n)}catch{}});let s=Object.getPrototypeOf(t);for(;s&&Object.getPrototypeOf(s);)Object.getOwnPropertyNames(s).forEach(n=>{try{typeof t[n]=="function"&&r.add(n)}catch{}}),s=Object.getPrototypeOf(s);return r}function mt(t,e={}){return new Proxy(e,{get(r,s){return s in r?r[s]:async(...n)=>(await t())[s](...n)}})}class ye{constructor(e,r){d(this,"baseDocument");d(this,"contributions",new Map);d(this,"latestOutput");d(this,"options");d(this,"onDidRebuildEmitter",new me);d(this,"onDidRebuild",this.onDidRebuildEmitter.subscribe);this.baseDocument=e,this.options=r,this.updateBaseDocument(e)}updateBaseDocument(e){return this.validateBaseDocument(e),this.baseDocument=this.options.copyDocuments?A(e):e,this.baseDocument=this.transformBaseDocumentAfterValidation(this.baseDocument),this.rebuild()}addOrUpdateContribution(e,r){this.validateContribution(e,r);const s=this.contributions.get(e);let n=this.options.copyDocuments&&r?A(r):r;n=this.transformContributionAfterValidation(e,n),this.contributions.set(e,n);try{return this.rebuild()}catch(i){throw s?this.contributions.set(e,s):this.contributions.delete(e),new Error(`Error when setting the document named ${e}: ${i}`)}}deleteContribution(e){const r=this.contributions.get(e);if(!r)throw new Error(`${e} does not exist`);this.contributions.delete(e);try{return this.rebuild()}catch(s){throw this.contributions.set(e,r),new Error(`Error when deleting the document named ${e}: ${s}`)}}deleteAllContributions(){if(this.contributions.size<=0)return this.latestOutput;const e=[...this.contributions.entries()];e.forEach(([r])=>this.contributions.delete(r));try{return this.rebuild()}catch(r){throw e.forEach(([s,n])=>this.contributions.set(s,n)),new Error(`Error when deleting all contributions: ${r}`)}}rebuild(){if(this.contributions.size===0){let r=A(this.baseDocument);return r=this.transformFinalOutputBeforeValidation(r),this.validateOutput(r),this.latestOutput=r,this.onDidRebuildEmitter.emit(void 0),this.latestOutput}let e=this.baseDocument;return this.contributions.forEach(r=>{e=gt(e,r,this.options.ignoreDuplicateProperties),this.validateOutput(e)}),e=this.transformFinalOutputBeforeValidation(e),this.validateOutput(e),this.latestOutput=e,this.onDidRebuildEmitter.emit(void 0),this.latestOutput}transformBaseDocumentAfterValidation(e){return e}transformContributionAfterValidation(e,r){return r}validateBaseDocument(e){}validateContribution(e,r){}validateOutput(e){}transformFinalOutputBeforeValidation(e){return e}}function ee(...t){let e=!0;return t.forEach(r=>{(!r||typeof r!="object"||Array.isArray(r))&&(e=!1)}),e}function te(...t){let e=!0;return t.forEach(r=>{(!r||typeof r!="object"||!Array.isArray(r))&&(e=!1)}),e}function gt(t,e,r){const s=A(t);return e?ve(s,A(e),r):s}function ve(t,e,r){if(!e)return t;if(ee(t,e)){const s=t,n=e;Object.keys(n).forEach(i=>{if(Object.hasOwn(s,i)){if(ee(s[i],n[i]))s[i]=ve(s[i],n[i],r);else if(te(s[i],n[i]))s[i]=s[i].concat(n[i]);else if(!r)throw new Error(`Cannot merge objects: key "${i}" already exists in the target object`)}else s[i]=n[i]})}else te(t,e)&&t.push(...e);return t}class Ne extends nt.Mutex{}class bt{constructor(){d(this,"mutexesByID",new Map)}get(e){let r=this.mutexesByID.get(e);return r||(r=new Ne,this.mutexesByID.set(e,r),r)}}class yt extends ye{constructor(e,r){super(e,r)}get output(){return this.latestOutput}}class we{constructor(e,r){d(this,"numberFormatter");this.numberFormatter=new Intl.NumberFormat(e,r)}format(e){return this.numberFormatter.format(e)}formatRange(e,r){return this.numberFormatter.formatRange(e,r)}formatRangeToParts(e,r){return this.numberFormatter.formatRangeToParts(e,r)}formatToParts(e){return this.numberFormatter.formatToParts(e)}resolvedOptions(){return this.numberFormatter.resolvedOptions()}}class vt{constructor(e="Anonymous"){d(this,"unsubscribers",new Set);this.name=e}add(...e){e.forEach(r=>{"dispose"in r?this.unsubscribers.add(r.dispose):this.unsubscribers.add(r)})}async runAllUnsubscribers(){const e=[...this.unsubscribers].map(s=>s()),r=await Promise.all(e);return this.unsubscribers.clear(),r.every((s,n)=>(s||console.error(`UnsubscriberAsyncList ${this.name}: Unsubscriber at index ${n} failed!`),s))}}var Nt=Object.defineProperty,wt=(t,e,r)=>e in t?Nt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,l=(t,e,r)=>wt(t,typeof e!="symbol"?e+"":e,r);const C=["GEN","EXO","LEV","NUM","DEU","JOS","JDG","RUT","1SA","2SA","1KI","2KI","1CH","2CH","EZR","NEH","EST","JOB","PSA","PRO","ECC","SNG","ISA","JER","LAM","EZK","DAN","HOS","JOL","AMO","OBA","JON","MIC","NAM","HAB","ZEP","HAG","ZEC","MAL","MAT","MRK","LUK","JHN","ACT","ROM","1CO","2CO","GAL","EPH","PHP","COL","1TH","2TH","1TI","2TI","TIT","PHM","HEB","JAS","1PE","2PE","1JN","2JN","3JN","JUD","REV","TOB","JDT","ESG","WIS","SIR","BAR","LJE","S3Y","SUS","BEL","1MA","2MA","3MA","4MA","1ES","2ES","MAN","PS2","ODA","PSS","JSA","JDB","TBS","SST","DNT","BLT","XXA","XXB","XXC","XXD","XXE","XXF","XXG","FRT","BAK","OTH","3ES","EZA","5EZ","6EZ","INT","CNC","GLO","TDX","NDX","DAG","PS3","2BA","LBA","JUB","ENO","1MQ","2MQ","3MQ","REP","4BA","LAO"],J=["XXA","XXB","XXC","XXD","XXE","XXF","XXG","FRT","BAK","OTH","INT","CNC","GLO","TDX","NDX"],Ee=["Genesis","Exodus","Leviticus","Numbers","Deuteronomy","Joshua","Judges","Ruth","1 Samuel","2 Samuel","1 Kings","2 Kings","1 Chronicles","2 Chronicles","Ezra","Nehemiah","Esther (Hebrew)","Job","Psalms","Proverbs","Ecclesiastes","Song of Songs","Isaiah","Jeremiah","Lamentations","Ezekiel","Daniel (Hebrew)","Hosea","Joel","Amos","Obadiah","Jonah","Micah","Nahum","Habakkuk","Zephaniah","Haggai","Zechariah","Malachi","Matthew","Mark","Luke","John","Acts","Romans","1 Corinthians","2 Corinthians","Galatians","Ephesians","Philippians","Colossians","1 Thessalonians","2 Thessalonians","1 Timothy","2 Timothy","Titus","Philemon","Hebrews","James","1 Peter","2 Peter","1 John","2 John","3 John","Jude","Revelation","Tobit","Judith","Esther Greek","Wisdom of Solomon","Sirach (Ecclesiasticus)","Baruch","Letter of Jeremiah","Song of 3 Young Men","Susanna","Bel and the Dragon","1 Maccabees","2 Maccabees","3 Maccabees","4 Maccabees","1 Esdras (Greek)","2 Esdras (Latin)","Prayer of Manasseh","Psalm 151","Odes","Psalms of Solomon","Joshua A. *obsolete*","Judges B. *obsolete*","Tobit S. *obsolete*","Susanna Th. *obsolete*","Daniel Th. *obsolete*","Bel Th. *obsolete*","Extra A","Extra B","Extra C","Extra D","Extra E","Extra F","Extra G","Front Matter","Back Matter","Other Matter","3 Ezra *obsolete*","Apocalypse of Ezra","5 Ezra (Latin Prologue)","6 Ezra (Latin Epilogue)","Introduction","Concordance ","Glossary ","Topical Index","Names Index","Daniel Greek","Psalms 152-155","2 Baruch (Apocalypse)","Letter of Baruch","Jubilees","Enoch","1 Meqabyan","2 Meqabyan","3 Meqabyan","Reproof (Proverbs 25-31)","4 Baruch (Rest of Baruch)","Laodiceans"],re=Pt();function P(t,e=!0){return e&&(t=t.toUpperCase()),t in re?re[t]:0}function K(t){return P(t)>0}function Et(t){const e=typeof t=="string"?P(t):t;return e>=40&&e<=66}function St(t){return(typeof t=="string"?P(t):t)<=39}function Se(t){return t<=66}function Ot(t){const e=typeof t=="string"?P(t):t;return je(e)&&!Se(e)}function*$t(){for(let t=1;t<=C.length;t++)yield t}const jt=1,Oe=C.length;function Ct(){return["XXA","XXB","XXC","XXD","XXE","XXF","XXG"]}function L(t,e="***"){const r=t-1;return r<0||r>=C.length?e:C[r]}function $e(t){return t<=0||t>Oe?"******":Ee[t-1]}function It(t){return $e(P(t))}function je(t){const e=typeof t=="number"?L(t):t;return K(e)&&!J.includes(e)}function At(t){const e=typeof t=="number"?L(t):t;return K(e)&&J.includes(e)}function Tt(t){return Ee[t-1].includes("*obsolete*")}function Pt(){const t={};for(let e=0;e<C.length;e++)t[C[e]]=e+1;return t}const E={allBookIds:C,nonCanonicalIds:J,bookIdToNumber:P,isBookIdValid:K,isBookNT:Et,isBookOT:St,isBookOTNT:Se,isBookDC:Ot,allBookNumbers:$t,firstBook:jt,lastBook:Oe,extraBooks:Ct,bookNumberToId:L,bookNumberToEnglishName:$e,bookIdToEnglishName:It,isCanonical:je,isExtraMaterial:At,isObsolete:Tt};var S=(t=>(t[t.Unknown=0]="Unknown",t[t.Original=1]="Original",t[t.Septuagint=2]="Septuagint",t[t.Vulgate=3]="Vulgate",t[t.English=4]="English",t[t.RussianProtestant=5]="RussianProtestant",t[t.RussianOrthodox=6]="RussianOrthodox",t))(S||{});const N=class{constructor(e){if(l(this,"name"),l(this,"fullPath"),l(this,"isPresent"),l(this,"hasVerseSegments"),l(this,"isCustomized"),l(this,"baseVersification"),l(this,"scriptureBooks"),l(this,"_type"),e==null)throw new Error("Argument undefined");typeof e=="string"?(this.name=e,this._type=S[e]):(this._type=e,this.name=S[e])}get type(){return this._type}equals(e){return!e.type||!this.type?!1:e.type===this.type}};l(N,"Original",new N(S.Original)),l(N,"Septuagint",new N(S.Septuagint)),l(N,"Vulgate",new N(S.Vulgate)),l(N,"English",new N(S.English)),l(N,"RussianProtestant",new N(S.RussianProtestant)),l(N,"RussianOrthodox",new N(S.RussianOrthodox));let $=N;function se(t,e){const r=e[0];for(let s=1;s<e.length;s++)t=t.split(e[s]).join(r);return t.split(r)}var Ce=(t=>(t[t.Valid=0]="Valid",t[t.UnknownVersification=1]="UnknownVersification",t[t.OutOfRange=2]="OutOfRange",t[t.VerseOutOfOrder=3]="VerseOutOfOrder",t[t.VerseRepeated=4]="VerseRepeated",t))(Ce||{});const y=class f{constructor(e,r,s,n){if(l(this,"firstChapter"),l(this,"lastChapter"),l(this,"lastVerse"),l(this,"hasSegmentsDefined"),l(this,"text"),l(this,"BBBCCCVVVS"),l(this,"longHashCode"),l(this,"versification"),l(this,"rtlMark","‏"),l(this,"_bookNum",0),l(this,"_chapterNum",0),l(this,"_verseNum",0),l(this,"_verse"),s==null&&n==null)if(e!=null&&typeof e=="string"){const i=e,o=r!=null&&r instanceof $?r:void 0;this.setEmpty(o),this.parse(i)}else if(e!=null&&typeof e=="number"){const i=r!=null&&r instanceof $?r:void 0;this.setEmpty(i),this._verseNum=e%f.chapterDigitShifter,this._chapterNum=Math.floor(e%f.bookDigitShifter/f.chapterDigitShifter),this._bookNum=Math.floor(e/f.bookDigitShifter)}else if(r==null)if(e!=null&&e instanceof f){const i=e;this._bookNum=i.bookNum,this._chapterNum=i.chapterNum,this._verseNum=i.verseNum,this._verse=i.verse,this.versification=i.versification}else{if(e==null)return;const i=e instanceof $?e:f.defaultVersification;this.setEmpty(i)}else throw new Error("VerseRef constructor not supported.");else if(e!=null&&r!=null&&s!=null)if(typeof e=="string"&&typeof r=="string"&&typeof s=="string")this.setEmpty(n),this.updateInternal(e,r,s);else if(typeof e=="number"&&typeof r=="number"&&typeof s=="number")this._bookNum=e,this._chapterNum=r,this._verseNum=s,this.versification=n??f.defaultVersification;else throw new Error("VerseRef constructor not supported.");else throw new Error("VerseRef constructor not supported.")}static isVerseParseable(e){return e.length>0&&"0123456789".includes(e[0])&&!e.endsWith(this.verseRangeSeparator)&&!e.endsWith(this.verseSequenceIndicator)}static tryParse(e){let r;try{return r=new f(e),{success:!0,verseRef:r}}catch(s){if(s instanceof x)return r=new f,{success:!1,verseRef:r};throw s}}static getBBBCCCVVV(e,r,s){return e%f.bcvMaxValue*f.bookDigitShifter+(r>=0?r%f.bcvMaxValue*f.chapterDigitShifter:0)+(s>=0?s%f.bcvMaxValue:0)}static fromJSON(e){const{book:r,chapterNum:s,verseNum:n,verse:i,versificationStr:o}=e,a=i||n.toString();let h;return o&&(h=new $(o)),r?new f(r,s.toString(),a,h):new f}static tryGetVerseNum(e){let r;if(!e)return r=-1,{success:!0,vNum:r};r=0;let s;for(let n=0;n<e.length;n++){if(s=e[n],s<"0"||s>"9")return n===0&&(r=-1),{success:!1,vNum:r};if(r=r*10+ +s-0,r>f.bcvMaxValue)return r=-1,{success:!1,vNum:r}}return{success:!0,vNum:r}}get isDefault(){return this.bookNum===0&&this.chapterNum===0&&this.verseNum===0&&this.versification==null}get hasMultiple(){return this._verse!=null&&(this._verse.includes(f.verseRangeSeparator)||this._verse.includes(f.verseSequenceIndicator))}get book(){return E.bookNumberToId(this.bookNum,"")}set book(e){this.bookNum=E.bookIdToNumber(e)}get chapter(){return this.isDefault||this._chapterNum<0?"":this._chapterNum.toString()}set chapter(e){const r=+e;this._chapterNum=Number.isInteger(r)?r:-1}get verse(){return this._verse!=null?this._verse:this.isDefault||this._verseNum<0?"":this._verseNum.toString()}set verse(e){const{success:r,vNum:s}=f.tryGetVerseNum(e);this._verse=r?void 0:e.replace(this.rtlMark,""),this._verseNum=s,!(this._verseNum>=0)&&({vNum:this._verseNum}=f.tryGetVerseNum(this._verse))}get bookNum(){return this._bookNum}set bookNum(e){if(e<=0||e>E.lastBook)throw new x("BookNum must be greater than zero and less than or equal to last book");this._bookNum=e}get chapterNum(){return this._chapterNum}set chapterNum(e){this.chapterNum=e}get verseNum(){return this._verseNum}set verseNum(e){this._verseNum=e}get versificationStr(){var e;return(e=this.versification)==null?void 0:e.name}set versificationStr(e){this.versification=this.versification!=null?new $(e):void 0}get valid(){return this.validStatus===0}get validStatus(){return this.validateVerse(f.verseRangeSeparators,f.verseSequenceIndicators)}get BBBCCC(){return f.getBBBCCCVVV(this._bookNum,this._chapterNum,0)}get BBBCCCVVV(){return f.getBBBCCCVVV(this._bookNum,this._chapterNum,this._verseNum)}get isExcluded(){return!1}parse(e){if(e=e.replace(this.rtlMark,""),e.includes("/")){const i=e.split("/");if(e=i[0],i.length>1)try{const o=+i[1].trim();this.versification=new $(S[o])}catch{throw new x("Invalid reference : "+e)}}const r=e.trim().split(" ");if(r.length!==2)throw new x("Invalid reference : "+e);const s=r[1].split(":"),n=+s[0];if(s.length!==2||E.bookIdToNumber(r[0])===0||!Number.isInteger(n)||n<0||!f.isVerseParseable(s[1]))throw new x("Invalid reference : "+e);this.updateInternal(r[0],s[0],s[1])}simplify(){this._verse=void 0}clone(){return new f(this)}toString(){const e=this.book;return e===""?"":`${e} ${this.chapter}:${this.verse}`}toJSON(){let e=this.verse;(e===""||e===this.verseNum.toString())&&(e=void 0);const r={book:this.book,chapterNum:this.chapterNum,verseNum:this.verseNum,verse:e,versificationStr:this.versificationStr};return e||delete r.verse,r}equals(e){return e instanceof f?e._bookNum===this._bookNum&&e._chapterNum===this._chapterNum&&e._verseNum===this._verseNum&&e.verse===this.verse&&(e.versification==null&&this.versification==null||e.versification!=null&&this.versification!=null&&e.versification.equals(this.versification)):!1}allVerses(e=!1,r=f.verseRangeSeparators,s=f.verseSequenceIndicators){if(this._verse==null||this.chapterNum<=0)return[this.clone()];const n=[],i=se(this._verse,s);for(const o of i.map(a=>se(a,r))){const a=this.clone();a.verse=o[0];const h=a.verseNum;if(n.push(a),o.length>1){const p=this.clone();if(p.verse=o[1],!e)for(let u=h+1;u<p.verseNum;u++){const c=new f(this._bookNum,this._chapterNum,u,this.versification);this.isExcluded||n.push(c)}n.push(p)}}return n}validateVerse(e,r){if(!this.verse)return this.internalValid;let s=0;for(const n of this.allVerses(!0,e,r)){const i=n.internalValid;if(i!==0)return i;const o=n.BBBCCCVVV;if(s>o)return 3;if(s===o)return 4;s=o}return 0}get internalValid(){return this.versification==null?1:this._bookNum<=0||this._bookNum>E.lastBook?2:(E.isCanonical(this._bookNum),0)}setEmpty(e=f.defaultVersification){this._bookNum=0,this._chapterNum=-1,this._verse=void 0,this.versification=e}updateInternal(e,r,s){this.bookNum=E.bookIdToNumber(e),this.chapter=r,this.verse=s}};l(y,"defaultVersification",$.English),l(y,"verseRangeSeparator","-"),l(y,"verseSequenceIndicator",","),l(y,"verseRangeSeparators",[y.verseRangeSeparator]),l(y,"verseSequenceIndicators",[y.verseSequenceIndicator]),l(y,"chapterDigitShifter",1e3),l(y,"bookDigitShifter",y.chapterDigitShifter*y.chapterDigitShifter),l(y,"bcvMaxValue",y.chapterDigitShifter-1),l(y,"ValidStatusType",Ce);let Bt=y;class x extends Error{}var ne=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},I={},Rt=()=>{const t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",s="\\u20d0-\\u20ff",n="\\u1ab0-\\u1aff",i="\\u1dc0-\\u1dff",o=e+r+s+n+i,a="\\ufe0e\\ufe0f",h="\\uD83D\\uDC69\\uD83C\\uDFFB\\u200D\\uD83C\\uDF93",p=`[${t}]`,u=`[${o}]`,c="\\ud83c[\\udffb-\\udfff]",m=`(?:${u}|${c})`,v=`[^${t}]`,b="(?:\\uD83C[\\uDDE6-\\uDDFF]){2}",R="[\\ud800-\\udbff][\\udc00-\\udfff]",q="\\u200d",Ze="(?:\\ud83c\\udff4\\udb40\\udc67\\udb40\\udc62\\udb40(?:\\udc65|\\udc73|\\udc77)\\udb40(?:\\udc6e|\\udc63|\\udc6c)\\udb40(?:\\udc67|\\udc74|\\udc73)\\udb40\\udc7f)",Ye=`[${h}]`,Y=`${m}?`,Q=`[${a}]?`,Qe=`(?:${q}(?:${[v,b,R].join("|")})${Q+Y})*`,et=Q+Y+Qe,tt=`(?:${[`${v}${u}?`,u,b,R,p,Ye].join("|")})`;return new RegExp(`${Ze}|${c}(?=${c})|${tt+et}`,"g")},xt=ne&&ne.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(I,"__esModule",{value:!0});var k=xt(Rt);function z(t){if(typeof t!="string")throw new Error("A string is expected as input");return t.match(k.default())||[]}var Dt=I.toArray=z;function U(t){if(typeof t!="string")throw new Error("Input must be a string");var e=t.match(k.default());return e===null?0:e.length}var Mt=I.length=U;function Ie(t,e,r){if(e===void 0&&(e=0),typeof t!="string")throw new Error("Input must be a string");(typeof e!="number"||e<0)&&(e=0),typeof r=="number"&&r<0&&(r=0);var s=t.match(k.default());return s?s.slice(e,r).join(""):""}var kt=I.substring=Ie;function Vt(t,e,r){if(e===void 0&&(e=0),typeof t!="string")throw new Error("Input must be a string");var s=U(t);if(typeof e!="number"&&(e=parseInt(e,10)),e>=s)return"";e<0&&(e+=s);var n;typeof r>"u"?n=s:(typeof r!="number"&&(r=parseInt(r,10)),n=r>=0?r+e:e);var i=t.match(k.default());return i?i.slice(e,n).join(""):""}var qt=I.substr=Vt;function zt(t,e,r,s){if(e===void 0&&(e=16),r===void 0&&(r="#"),s===void 0&&(s="right"),typeof t!="string"||typeof e!="number")throw new Error("Invalid arguments specified");if(["left","right"].indexOf(s)===-1)throw new Error("Pad position should be either left or right");typeof r!="string"&&(r=String(r));var n=U(t);if(n>e)return Ie(t,0,e);if(n<e){var i=r.repeat(e-n);return s==="left"?i+t:t+i}return t}var Ae=I.limit=zt;function _t(t,e,r){if(r===void 0&&(r=0),typeof t!="string")throw new Error("Input must be a string");if(t==="")return e===""?0:-1;r=Number(r),r=isNaN(r)?0:r,e=String(e);var s=z(t);if(r>=s.length)return e===""?s.length:-1;if(e==="")return r;var n=z(e),i=!1,o;for(o=r;o<s.length;o+=1){for(var a=0;a<n.length&&n[a]===s[o+a];)a+=1;if(a===n.length&&n[a-1]===s[o+a-1]){i=!0;break}}return i?o:-1}var Ft=I.indexOf=_t;function X(t){return t?Array.isArray(t)?t:[t]:[]}function Gt(t,e){if(!(e>g(t)||e<-g(t)))return V(t,e,1)}function j(t,e){return e<0||e>g(t)-1?"":V(t,e,1)}function Jt(t,e){if(!(e<0||e>g(t)-1))return V(t,e,1).codePointAt(0)}function Te(t,e,r=g(t)){const s=Be(t,e);return!(s===-1||s+g(e)!==r)}function Kt(t,e,r){if(e<0)return-1;if(r){if(j(t,e)==="}"&&j(t,e-1)==="\\")return e;const i=T(t,"\\}",e);return i>=0?i+1:i}let s=e;const n=g(t);for(;s<n&&(s=T(t,"}",s),!(s===-1||j(t,s-1)!=="\\"));)s+=1;return s>=n?-1:s}function Lt(t,e){let r=t,s=0;for(;s<g(r);){switch(j(r,s)){case"{":if(j(r,s-1)!=="\\"){const n=Kt(r,s,!1);if(n>=0){const i=w(r,s+1,n),o=i in e?`${e[i]}`:i;r=`${w(r,0,s)}${o}${w(r,n+1)}`,s=n+g(o)-g(i)-2}}else r=`${w(r,0,s-1)}${w(r,s)}`,s-=1;break;case"}":j(r,s-1)!=="\\"||(r=`${w(r,0,s-1)}${w(r,s)}`,s-=1);break}s+=1}return r}function Pe(t,e,r=0){const s=w(t,r);return T(s,e)!==-1}function T(t,e,r=0){return Ft(t,e,r)}function Be(t,e,r){let s=r===void 0?g(t):r;s<0?s=0:s>=g(t)&&(s=g(t)-1);for(let n=s;n>=0;n--)if(V(t,n,g(e))===e)return n;return-1}function g(t){return Mt(t)}function Ut(t,e){const r=e.toUpperCase();return r==="NONE"?t:t.normalize(r)}function Xt(t,e,r){return t.localeCompare(e,"en",r)}function Ht(t,e,r=" "){return e<=g(t)?t:Ae(t,e,r,"right")}function Wt(t,e,r=" "){return e<=g(t)?t:Ae(t,e,r,"left")}function ie(t,e){return e>t?t:e<-t?0:e<0?e+t:e}function Zt(t,e,r){const s=g(t);if(e>s||r&&(e>r&&!(e>=0&&e<s&&r<0&&r>-s)||r<-s))return"";const n=ie(s,e),i=r?ie(s,r):void 0;return w(t,n,i)}function _(t,e,r){const s=[];if(r!==void 0&&r<=0)return[t];if(e==="")return Re(t).slice(0,r);let n=e;(typeof e=="string"||e instanceof RegExp&&!Pe(e.flags,"g"))&&(n=new RegExp(e,"g"));const i=t.match(n);let o=0;if(!i)return[t];for(let a=0;a<(r?r-1:i.length);a++){const h=T(t,i[a],o),p=g(i[a]);if(s.push(w(t,o,h)),o=h+p,r!==void 0&&s.length===r)break}return s.push(w(t,o)),s}function H(t,e,r=0){return T(t,e,r)===r}function V(t,e=0,r=g(t)-e){return qt(t,e,r)}function w(t,e,r=g(t)){return kt(t,e,r)}function Re(t){return Dt(t)}function Yt(t){return H(t,"%")&&Te(t,"%")}function Qt(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function er(t){return t?X(t).map(s=>Array.isArray(s)?s.map(n=>new RegExp(n)):new RegExp(s)):[]}function tr(t){return t?X(t).map(s=>new RegExp(s)):[]}const xe=[{shortName:"ERR",fullNames:["ERROR"],chapters:-1},{shortName:"GEN",fullNames:["Genesis"],chapters:50},{shortName:"EXO",fullNames:["Exodus"],chapters:40},{shortName:"LEV",fullNames:["Leviticus"],chapters:27},{shortName:"NUM",fullNames:["Numbers"],chapters:36},{shortName:"DEU",fullNames:["Deuteronomy"],chapters:34},{shortName:"JOS",fullNames:["Joshua"],chapters:24},{shortName:"JDG",fullNames:["Judges"],chapters:21},{shortName:"RUT",fullNames:["Ruth"],chapters:4},{shortName:"1SA",fullNames:["1 Samuel"],chapters:31},{shortName:"2SA",fullNames:["2 Samuel"],chapters:24},{shortName:"1KI",fullNames:["1 Kings"],chapters:22},{shortName:"2KI",fullNames:["2 Kings"],chapters:25},{shortName:"1CH",fullNames:["1 Chronicles"],chapters:29},{shortName:"2CH",fullNames:["2 Chronicles"],chapters:36},{shortName:"EZR",fullNames:["Ezra"],chapters:10},{shortName:"NEH",fullNames:["Nehemiah"],chapters:13},{shortName:"EST",fullNames:["Esther"],chapters:10},{shortName:"JOB",fullNames:["Job"],chapters:42},{shortName:"PSA",fullNames:["Psalm","Psalms"],chapters:150},{shortName:"PRO",fullNames:["Proverbs"],chapters:31},{shortName:"ECC",fullNames:["Ecclesiastes"],chapters:12},{shortName:"SNG",fullNames:["Song of Solomon","Song of Songs"],chapters:8},{shortName:"ISA",fullNames:["Isaiah"],chapters:66},{shortName:"JER",fullNames:["Jeremiah"],chapters:52},{shortName:"LAM",fullNames:["Lamentations"],chapters:5},{shortName:"EZK",fullNames:["Ezekiel"],chapters:48},{shortName:"DAN",fullNames:["Daniel"],chapters:12},{shortName:"HOS",fullNames:["Hosea"],chapters:14},{shortName:"JOL",fullNames:["Joel"],chapters:3},{shortName:"AMO",fullNames:["Amos"],chapters:9},{shortName:"OBA",fullNames:["Obadiah"],chapters:1},{shortName:"JON",fullNames:["Jonah"],chapters:4},{shortName:"MIC",fullNames:["Micah"],chapters:7},{shortName:"NAM",fullNames:["Nahum"],chapters:3},{shortName:"HAB",fullNames:["Habakkuk"],chapters:3},{shortName:"ZEP",fullNames:["Zephaniah"],chapters:3},{shortName:"HAG",fullNames:["Haggai"],chapters:2},{shortName:"ZEC",fullNames:["Zechariah"],chapters:14},{shortName:"MAL",fullNames:["Malachi"],chapters:4},{shortName:"MAT",fullNames:["Matthew"],chapters:28},{shortName:"MRK",fullNames:["Mark"],chapters:16},{shortName:"LUK",fullNames:["Luke"],chapters:24},{shortName:"JHN",fullNames:["John"],chapters:21},{shortName:"ACT",fullNames:["Acts"],chapters:28},{shortName:"ROM",fullNames:["Romans"],chapters:16},{shortName:"1CO",fullNames:["1 Corinthians"],chapters:16},{shortName:"2CO",fullNames:["2 Corinthians"],chapters:13},{shortName:"GAL",fullNames:["Galatians"],chapters:6},{shortName:"EPH",fullNames:["Ephesians"],chapters:6},{shortName:"PHP",fullNames:["Philippians"],chapters:4},{shortName:"COL",fullNames:["Colossians"],chapters:4},{shortName:"1TH",fullNames:["1 Thessalonians"],chapters:5},{shortName:"2TH",fullNames:["2 Thessalonians"],chapters:3},{shortName:"1TI",fullNames:["1 Timothy"],chapters:6},{shortName:"2TI",fullNames:["2 Timothy"],chapters:4},{shortName:"TIT",fullNames:["Titus"],chapters:3},{shortName:"PHM",fullNames:["Philemon"],chapters:1},{shortName:"HEB",fullNames:["Hebrews"],chapters:13},{shortName:"JAS",fullNames:["James"],chapters:5},{shortName:"1PE",fullNames:["1 Peter"],chapters:5},{shortName:"2PE",fullNames:["2 Peter"],chapters:3},{shortName:"1JN",fullNames:["1 John"],chapters:5},{shortName:"2JN",fullNames:["2 John"],chapters:1},{shortName:"3JN",fullNames:["3 John"],chapters:1},{shortName:"JUD",fullNames:["Jude"],chapters:1},{shortName:"REV",fullNames:["Revelation"],chapters:22}],De=1,Me=xe.length-1,ke=1,Ve=1,qe=t=>{var e;return((e=xe[t])==null?void 0:e.chapters)??-1},rr=(t,e)=>({bookNum:Math.max(De,Math.min(t.bookNum+e,Me)),chapterNum:1,verseNum:1}),sr=(t,e)=>({...t,chapterNum:Math.min(Math.max(ke,t.chapterNum+e),qe(t.bookNum)),verseNum:1}),nr=(t,e)=>({...t,verseNum:Math.max(Ve,t.verseNum+e)});async function ir(t,e,r){const s=E.bookNumberToId(t);if(!H(Intl.getCanonicalLocales(e)[0],"zh"))return r({localizeKey:`LocalizedId.${s}`,languagesToSearch:[e]});const n=await r({localizeKey:`Book.${s}`,languagesToSearch:[e]}),i=_(n,"-");return _(i[0],"ÿ08")[0].trim()}function F(t){return new Bt(t.bookNum,t.chapterNum,t.verseNum).BBBCCCVVV}function or(t,e){return F(t)-F(e)}function ze(t){return`%scrollGroup_${t}%`}function ar(t){return t.map(e=>ze(e))}function ur(t,e,r,s){let n;switch(e??"id"){case"English":n=E.bookNumberToEnglishName(t.bookNum);break;case"id":n=E.bookNumberToId(t.bookNum);break;default:n=e??"";break}return`${n}${s??" "}${t.chapterNum}${r??":"}${t.verseNum}`}const lr=t=>(...e)=>t.map(s=>s(...e)).every(s=>s),cr=t=>async(...e)=>{const r=t.map(async s=>s(...e));return(await Promise.all(r)).every(s=>s)};var fr=Object.getOwnPropertyNames,hr=Object.getOwnPropertySymbols,pr=Object.prototype.hasOwnProperty;function oe(t,e){return function(s,n,i){return t(s,n,i)&&e(s,n,i)}}function M(t){return function(r,s,n){if(!r||!s||typeof r!="object"||typeof s!="object")return t(r,s,n);var i=n.cache,o=i.get(r),a=i.get(s);if(o&&a)return o===s&&a===r;i.set(r,s),i.set(s,r);var h=t(r,s,n);return i.delete(r),i.delete(s),h}}function ae(t){return fr(t).concat(hr(t))}var _e=Object.hasOwn||function(t,e){return pr.call(t,e)};function B(t,e){return t||e?t===e:t===e||t!==t&&e!==e}var Fe="_owner",ue=Object.getOwnPropertyDescriptor,le=Object.keys;function dr(t,e,r){var s=t.length;if(e.length!==s)return!1;for(;s-- >0;)if(!r.equals(t[s],e[s],s,s,t,e,r))return!1;return!0}function mr(t,e){return B(t.getTime(),e.getTime())}function ce(t,e,r){if(t.size!==e.size)return!1;for(var s={},n=t.entries(),i=0,o,a;(o=n.next())&&!o.done;){for(var h=e.entries(),p=!1,u=0;(a=h.next())&&!a.done;){var c=o.value,m=c[0],v=c[1],b=a.value,R=b[0],q=b[1];!p&&!s[u]&&(p=r.equals(m,R,i,u,t,e,r)&&r.equals(v,q,m,R,t,e,r))&&(s[u]=!0),u++}if(!p)return!1;i++}return!0}function gr(t,e,r){var s=le(t),n=s.length;if(le(e).length!==n)return!1;for(var i;n-- >0;)if(i=s[n],i===Fe&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!_e(e,i)||!r.equals(t[i],e[i],i,i,t,e,r))return!1;return!0}function D(t,e,r){var s=ae(t),n=s.length;if(ae(e).length!==n)return!1;for(var i,o,a;n-- >0;)if(i=s[n],i===Fe&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!_e(e,i)||!r.equals(t[i],e[i],i,i,t,e,r)||(o=ue(t,i),a=ue(e,i),(o||a)&&(!o||!a||o.configurable!==a.configurable||o.enumerable!==a.enumerable||o.writable!==a.writable)))return!1;return!0}function br(t,e){return B(t.valueOf(),e.valueOf())}function yr(t,e){return t.source===e.source&&t.flags===e.flags}function fe(t,e,r){if(t.size!==e.size)return!1;for(var s={},n=t.values(),i,o;(i=n.next())&&!i.done;){for(var a=e.values(),h=!1,p=0;(o=a.next())&&!o.done;)!h&&!s[p]&&(h=r.equals(i.value,o.value,i.value,o.value,t,e,r))&&(s[p]=!0),p++;if(!h)return!1}return!0}function vr(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}var Nr="[object Arguments]",wr="[object Boolean]",Er="[object Date]",Sr="[object Map]",Or="[object Number]",$r="[object Object]",jr="[object RegExp]",Cr="[object Set]",Ir="[object String]",Ar=Array.isArray,he=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,pe=Object.assign,Tr=Object.prototype.toString.call.bind(Object.prototype.toString);function Pr(t){var e=t.areArraysEqual,r=t.areDatesEqual,s=t.areMapsEqual,n=t.areObjectsEqual,i=t.arePrimitiveWrappersEqual,o=t.areRegExpsEqual,a=t.areSetsEqual,h=t.areTypedArraysEqual;return function(u,c,m){if(u===c)return!0;if(u==null||c==null||typeof u!="object"||typeof c!="object")return u!==u&&c!==c;var v=u.constructor;if(v!==c.constructor)return!1;if(v===Object)return n(u,c,m);if(Ar(u))return e(u,c,m);if(he!=null&&he(u))return h(u,c,m);if(v===Date)return r(u,c,m);if(v===RegExp)return o(u,c,m);if(v===Map)return s(u,c,m);if(v===Set)return a(u,c,m);var b=Tr(u);return b===Er?r(u,c,m):b===jr?o(u,c,m):b===Sr?s(u,c,m):b===Cr?a(u,c,m):b===$r?typeof u.then!="function"&&typeof c.then!="function"&&n(u,c,m):b===Nr?n(u,c,m):b===wr||b===Or||b===Ir?i(u,c,m):!1}}function Br(t){var e=t.circular,r=t.createCustomConfig,s=t.strict,n={areArraysEqual:s?D:dr,areDatesEqual:mr,areMapsEqual:s?oe(ce,D):ce,areObjectsEqual:s?D:gr,arePrimitiveWrappersEqual:br,areRegExpsEqual:yr,areSetsEqual:s?oe(fe,D):fe,areTypedArraysEqual:s?D:vr};if(r&&(n=pe({},n,r(n))),e){var i=M(n.areArraysEqual),o=M(n.areMapsEqual),a=M(n.areObjectsEqual),h=M(n.areSetsEqual);n=pe({},n,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:a,areSetsEqual:h})}return n}function Rr(t){return function(e,r,s,n,i,o,a){return t(e,r,a)}}function xr(t){var e=t.circular,r=t.comparator,s=t.createState,n=t.equals,i=t.strict;if(s)return function(h,p){var u=s(),c=u.cache,m=c===void 0?e?new WeakMap:void 0:c,v=u.meta;return r(h,p,{cache:m,equals:n,meta:v,strict:i})};if(e)return function(h,p){return r(h,p,{cache:new WeakMap,equals:n,meta:void 0,strict:i})};var o={cache:void 0,equals:n,meta:void 0,strict:i};return function(h,p){return r(h,p,o)}}var Dr=O();O({strict:!0});O({circular:!0});O({circular:!0,strict:!0});O({createInternalComparator:function(){return B}});O({strict:!0,createInternalComparator:function(){return B}});O({circular:!0,createInternalComparator:function(){return B}});O({circular:!0,createInternalComparator:function(){return B},strict:!0});function O(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,s=t.createInternalComparator,n=t.createState,i=t.strict,o=i===void 0?!1:i,a=Br(t),h=Pr(a),p=s?s(h):Rr(h);return xr({circular:r,comparator:h,createState:n,equals:p,strict:o})}function Ge(t,e){return Dr(t,e)}function Je(t,e){if(typeof t!=typeof e)return!1;if(!t&&!e)return!0;if(Array.isArray(t)){const i=e,o=t;return i.length===0?!0:i.every(a=>o.includes(a))}if(typeof t!="object")return Ge(t,e);const r=e,s=t;let n=!0;return Object.keys(r).forEach(i=>{n&&(Object.hasOwn(s,i)&&Je(s[i],r[i])||(n=!1))}),n}function G(t,e,r){return JSON.stringify(t,(n,i)=>{let o=i;return e&&(o=e(n,o)),o===void 0&&(o=null),o},r)}function Ke(t,e){function r(n){return Object.keys(n).forEach(i=>{n[i]===null?n[i]=void 0:typeof n[i]=="object"&&(n[i]=r(n[i]))}),n}const s=JSON.parse(t,e);if(s!==null)return typeof s=="object"?r(s):s}function Mr(t){try{const e=G(t);return e===G(Ke(e))}catch{return!1}}const kr=t=>t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;");function Vr(){return typeof navigator<"u"&&navigator.languages?navigator.languages[0]:new de().resolvedOptions().locale}function qr(t,e=2){if(t===0)return"0 Bytes";const r=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],s=Math.floor(Math.log(t)/Math.log(1024)),n=r[s];return`${new we("en",{style:"decimal",maximumFractionDigits:e,minimumFractionDigits:0}).format(t/1024**s)} ${n}`}const W={projectSettingsContribution:{description:"The data an extension provides to inform Platform.Bible of the project settings it provides",anyOf:[{$ref:"#/$defs/projectSettingsGroup"},{type:"array",items:{$ref:"#/$defs/projectSettingsGroup"}}]},projectSettingsGroup:{description:"Group of related settings definitions",type:"object",properties:{label:{description:"localizeKey that displays in the project settings dialog as the group name",$ref:"#/$defs/localizeKey"},description:{description:"localizeKey that displays in the project settings dialog to describe the group",$ref:"#/$defs/localizeKey"},properties:{$ref:"#/$defs/projectSettingProperties"}},required:["label","properties"]},projectSettingProperties:{description:"Object whose keys are setting IDs and whose values are settings objects",type:"object",patternProperties:{"^[\\w\\-]+\\.[\\w\\-]+$":{$ref:"#/$defs/projectSetting"}},additionalProperties:!1},projectSetting:{description:"A description of an extension's setting entry",anyOf:[{$ref:"#/$defs/extensionControlledProjectSetting"}]},extensionControlledProjectSetting:{description:"Setting definition that is validated by the extension.",allOf:[{$ref:"#/$defs/projectSettingBase"},{$ref:"#/$defs/modifierExtensionControlled"}]},projectSettingBase:{description:"Base information needed to describe a project setting entry",allOf:[{$ref:"#/$defs/settingBase"},{$ref:"#/$defs/modifierProject"}]},modifierProject:{description:"Modifies setting type to be project setting",type:"object",properties:{includeProjectInterfaces:{description:"String representation of `RegExp` pattern(s) to match against projects' `projectInterface`s (using the [`test`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp/test) function) to determine if they should be included.\n\nIf this is one string, it will be matched against `projectInterface`s. If this is an array, each entry is handled based on its type (at least one entry must match for this filter condition to pass):\n\n- If the entry is a string, it will be matched against each `projectInterface`. If any match, the project will pass this filter condition\n- If the entry is an array of strings, each will be matched against each `projectInterface`. If every string matches against at least one `projectInterface`, the project will pass this filter condition\n\nIn other words, each entry in the first-level array is `OR`'ed together. Each entry in second-level arrays (arrays within the first-level array) are `AND`'ed together.\n\nDefaults to all {@link ProjectInterfaces}, so all projects that do not match `excludeProjectInterfaces` will be included\n\n@example\n\n```typescript\nincludeProjectInterfaces: ['one', ['two', 'three']];\n```\n\nThis filter condition will succeed on projects whose `projectInterface`s fulfill at least one of the following conditions (At least one entry in the array must match):\n\n- Include `one`\n- Include both `two` and `three`.",anyOf:[{type:"null"},{type:"string"},{type:"array",items:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}]}}]},excludeProjectInterfaces:{description:"String representation of `RegExp` pattern(s) to match against projects' `projectInterface`s (using the [`test`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp/test) function) to determine if they should absolutely not be included even if they match with `includeProjectInterfaces`.\n\nIf this is one string, it will be matched against `projectInterface`s. If this is an array, each entry is handled based on its type (at least one entry must match for this filter condition to exclude the project):\n\n- If the entry is a string, it will be matched against each `projectInterface`. If any match, the project will pass this filter condition and exclude the project\n- If the entry is an array of strings, each will be matched against each `projectInterface`. If every string matches against at least one `projectInterface`, the project will pass this filter condition and exclude the project\n\nIn other words, each entry in the first-level array is `OR`'ed together. Each entry in second-level arrays (arrays within the first-level array) are `AND`'ed together.\n\nDefaults to no {@link ProjectInterfaces}, so all projects that match `includeProjectInterfaces` will be included\n\n@example\n\n```typescript\nexcludeProjectInterfaces: ['one', ['two', 'three']];\n```\n\nThis filter condition will succeed and exclude projects whose `projectInterface`s fulfill at least one of the following conditions (At least one entry in the array must match):\n\n- Include `one`\n- Include both `two` and `three`.",anyOf:[{type:"null"},{type:"string"},{type:"array",items:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}]}}]},includePdpFactoryIds:{description:"String representation of `RegExp` pattern(s) to match against the Project Data Provider Factory Ids that provided each project's metadata (using the [`test`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp/test) function) to determine if the projects should be included.\n\nDefaults to all Project Data Provider Factory Ids, so all projects that do not match `excludePdpFactoryIds` will be included",anyOf:[{type:"null"},{type:"string"},{type:"array",items:{type:"string"}}]},excludePdpFactoryIds:{description:"String representation of `RegExp` pattern(s) to match against the Project Data Provider Factory Ids that provided each project's metadata (using the [`test`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp/test) function) to determine if the projects should absolutely not be included even if they match with `includeProjectInterfaces`.\n\nDefaults to none, so all projects that match `includePdpFactoryIds` will be included",anyOf:[{type:"null"},{type:"string"},{type:"array",items:{type:"string"}}]}}},settingsContribution:{description:"The data an extension provides to inform Platform.Bible of the settings it provides",anyOf:[{$ref:"#/$defs/settingsGroup"},{type:"array",items:{$ref:"#/$defs/settingsGroup"}}]},settingsGroup:{description:"Group of related settings definitions",type:"object",properties:{label:{description:"localizeKey that displays in the settings dialog as the group name",$ref:"#/$defs/localizeKey"},description:{description:"localizeKey that displays in the settings dialog to describe the group",$ref:"#/$defs/localizeKey"},properties:{$ref:"#/$defs/settingProperties"}},required:["label","properties"]},settingProperties:{description:"Object whose keys are setting IDs and whose values are settings objects",type:"object",patternProperties:{"^[\\w-]+\\.[\\w-]+$":{$ref:"#/$defs/setting"}},additionalProperties:!1},setting:{description:"A description of an extension's setting entry",anyOf:[{$ref:"#/$defs/extensionControlledSetting"}]},extensionControlledSetting:{description:"Setting definition that is validated by the extension.",allOf:[{$ref:"#/$defs/settingBase"},{$ref:"#/$defs/modifierExtensionControlled"}]},settingBase:{description:"Base information needed to describe a setting entry",allOf:[{$ref:"#/$defs/stateBase"},{type:"object",properties:{label:{description:"localizeKey that displays in the settings dialog as the setting name",$ref:"#/$defs/localizeKey"},description:{description:"localizeKey that displays in the settings dialog to describe the setting",$ref:"#/$defs/localizeKey"}},required:["label"]}]},projectStateContribution:{description:"The data an extension provides to inform Platform.Bible of the project state it provides",$ref:"#/$defs/userStateProperties"},userStateContribution:{description:"The data an extension provides to inform Platform.Bible of the user state it provides",$ref:"#/$defs/userStateProperties"},userStateProperties:{description:"Object whose keys are state IDs and whose values are state objects",type:"object",patternProperties:{"^[\\w\\-]+\\.[\\w\\-]+$":{$ref:"#/$defs/userState"}},additionalProperties:!1},userState:{description:"A description of an extension's user state entry",anyOf:[{$ref:"#/$defs/extensionControlledState"}]},extensionControlledState:{description:"State definition that is validated by the extension.",allOf:[{$ref:"#/$defs/stateBase"},{$ref:"#/$defs/modifierExtensionControlled"}]},modifierExtensionControlled:{description:'Modifies state/setting type to be extension-controlled. "Extension-controlled" means the extension provides the component and the validator for the state/setting, so the state/setting is controlled by the extension.',not:{anyOf:[{type:"object",required:["platformType"]},{type:"object",required:["type"]}]}},stateBase:{description:"Base information needed to describe a state entry",type:"object",properties:{default:{description:"default value for the state/setting",type:"any"},derivesFrom:{description:"a state/setting ID whose value to set to this state/setting's starting value the first time this state/setting is loaded",$ref:"#/$defs/id"}},required:["default"]},localizeKey:{description:"Identifier for a string that will be localized based on the user's UI language",type:"string",pattern:"^%[\\w\\-\\.]+%$",tsType:"LocalizeKey"},id:{description:"",type:"string",pattern:"^[\\w\\-]+\\.[\\w\\-]+$",tsType:"Id"}};function Z(t){t&&Object.values(t).forEach(e=>{if(e.type){if("tsType"in e&&delete e.tsType,e.type==="any"){delete e.type;return}e.type==="object"&&Z(e.properties)}})}Z(W);const Le={$schema:"https://json-schema.org/draft/2020-12/schema",title:"Project Settings Contribution",description:"The data an extension provides to inform Platform.Bible of the project settings it provides",anyOf:[{$ref:"#/$defs/projectSettingsGroup"},{type:"array",items:{$ref:"#/$defs/projectSettingsGroup"}}],$defs:W};Object.freeze(Le);const Ue={$schema:"https://json-schema.org/draft/2020-12/schema",title:"Settings Contribution",description:"The data an extension provides to inform Platform.Bible of the settings it provides",anyOf:[{$ref:"#/$defs/settingsGroup"},{type:"array",items:{$ref:"#/$defs/settingsGroup"}}],$defs:W};Object.freeze(Ue);const Xe={languageStrings:{description:"Map whose keys are localized string keys and whose values provide information about how to localize strings for the localized string key",type:"object",patternProperties:{"^%[\\w\\-\\.]+%$":{$ref:"#/$defs/localizedStringValue"}},additionalProperties:!1},localizedStringValue:{description:"Localized string value associated with this key",type:"string"},stringsMetadata:{description:"Map whose keys are localized string keys and whose values provide additional non-locale-specific information about the localized string key",type:"object",patternProperties:{"^%[\\w\\-\\.]+%$":{$ref:"#/$defs/stringMetadata"}},additionalProperties:!1},stringMetadata:{description:"Additional non-locale-specific information about a localized string key",type:"object",properties:{fallbackKey:{description:"Localized string key from which to get this value if one does not exist in the specified language. If a new key/value pair needs to be made to replace an existing one, this could help smooth over the transition if the meanings are close enough.\nYou can use Paratext 9 Localized String Keys here. Be sure to escape any % signs with a backslash `\\`.",type:"string",pattern:"^%[\\w\\-\\.;&,' (){}#:/\\\\?%⋮|[\\]“”‘’!~* +=•`…​↑↓]+%$",tsType:"LocalizeKey"},notes:{description:"Additional information provided by developers in English to help the translator to know how to translate this localized string accurately",type:"string"}}},localizeKey:{description:"Identifier for a string that will be localized based on the user's UI language",type:"string",pattern:"^%[\\w\\-\\.]+%$",tsType:"LocalizeKey"}};Z(Xe);const He={$schema:"https://json-schema.org/draft/2020-12/schema",title:"Localized String Data Contribution",description:"The data an extension provides to inform Platform.Bible of the localized strings it provides.",type:"object",properties:{metadata:{$ref:"#/$defs/stringsMetadata"},localizedStrings:{type:"object",additionalProperties:{$ref:"#/$defs/languageStrings"}}},$defs:Xe};Object.freeze(He);const We={title:"Platform.Bible menus",type:"object",properties:{mainMenu:{description:"Top level menu for the application",$ref:"#/$defs/multiColumnMenu"},defaultWebViewTopMenu:{description:"Default top menu for web views that don't specify their own",$ref:"#/$defs/multiColumnMenu"},defaultWebViewContextMenu:{description:"Default context menu for web views that don't specify their own",$ref:"#/$defs/singleColumnMenu"},webViewMenus:{description:"Menus that apply per web view in the application",type:"object",patternProperties:{"^[\\w\\-]+\\.[\\w\\-]+$":{$ref:"#/$defs/menusForOneWebView"}},additionalProperties:!1}},required:["mainMenu","defaultWebViewTopMenu","defaultWebViewContextMenu","webViewMenus"],additionalProperties:!1,$defs:{localizeKey:{description:"Identifier for a string that will be localized in a menu based on the user's UI language",type:"string",pattern:"^%[\\w\\-\\.]+%$"},referencedItem:{description:"Name of some UI element (i.e., tab, column, group, menu item) or some PAPI object (i.e., command)",type:"string",pattern:"^[\\w\\-]+\\.[\\w\\-]+$"},columnsWithHeaders:{description:"Group of columns that can be combined with other columns to form a multi-column menu",type:"object",patternProperties:{"^[\\w\\-]+\\.[\\w\\-]+$":{description:"Single column with a header string",type:"object",properties:{label:{description:"Header text for this this column in the UI",$ref:"#/$defs/localizeKey"},localizeNotes:{description:"Additional information provided by developers to help people who perform localization",type:"string"},order:{description:"Relative order of this column compared to other columns (sorted ascending)",type:"number"},isExtensible:{description:"Defines whether contributions are allowed to add menu groups to this column",type:"boolean"}},required:["label","order"],additionalProperties:!1}},properties:{isExtensible:{description:"Defines whether contributions are allowed to add columns to this multi-column menu",type:"boolean"}}},menuGroups:{description:"Group of menu items that can be combined with other groups to form a single menu/submenu. Groups are separated using a line within the menu/submenu.",type:"object",patternProperties:{"^[\\w\\-]+\\.[\\w\\-]+$":{description:"Single group that contains menu items",type:"object",oneOf:[{properties:{column:{description:"Column where this group belongs, not required for single column menus",$ref:"#/$defs/referencedItem"},order:{description:"Relative order of this group compared to other groups in the same column or submenu (sorted ascending)",type:"number"},isExtensible:{description:"Defines whether contributions are allowed to add menu items to this menu group",type:"boolean"}},required:["order"],additionalProperties:!1},{properties:{menuItem:{description:"Menu item that anchors the submenu where this group belongs",$ref:"#/$defs/referencedItem"},order:{description:"Relative order of this group compared to other groups in the same column or submenu (sorted ascending)",type:"number"},isExtensible:{description:"Defines whether contributions are allowed to add menu items to this menu group",type:"boolean"}},required:["menuItem","order"],additionalProperties:!1}]}},additionalProperties:!1},menuItem:{description:"Single item in a menu that can be clicked on to take an action or can be the parent of a submenu",type:"object",oneOf:[{properties:{id:{description:"ID for this menu item that holds a submenu",$ref:"#/$defs/referencedItem"}},required:["id"]},{properties:{command:{description:"Name of the PAPI command to run when this menu item is selected.",$ref:"#/$defs/referencedItem"},iconPathBefore:{description:"Uri path to the icon to display before the menu text. Ex: `papi-extension://helloWorld/assets/icon.png`",type:"string"},iconPathAfter:{description:"Uri path to the icon to display after the menu text. Ex: `papi-extension://helloWorld/assets/icon.png`",type:"string"}},required:["command"]}],properties:{label:{description:"Key that represents the text of this menu item to display",$ref:"#/$defs/localizeKey"},tooltip:{description:"Key that represents the text to display if a mouse pointer hovers over the menu item",$ref:"#/$defs/localizeKey"},searchTerms:{description:"Key that represents additional words the platform should reference when users are searching for menu items",$ref:"#/$defs/localizeKey"},localizeNotes:{description:"Additional information provided by developers to help people who perform localization",type:"string"},group:{description:"Group to which this menu item belongs",$ref:"#/$defs/referencedItem"},order:{description:"Relative order of this menu item compared to other menu items in the same group (sorted ascending)",type:"number"}},required:["label","group","order"],unevaluatedProperties:!1},groupsAndItems:{description:"Core schema for a column",type:"object",properties:{groups:{description:"Groups that belong in this menu",$ref:"#/$defs/menuGroups"},items:{description:"List of menu items that belong in this menu",type:"array",items:{$ref:"#/$defs/menuItem"},uniqueItems:!0}},required:["groups","items"]},singleColumnMenu:{description:"Menu that contains a column without a header",type:"object",allOf:[{$ref:"#/$defs/groupsAndItems"}],unevaluatedProperties:!1},multiColumnMenu:{description:"Menu that can contain multiple columns with headers",type:"object",allOf:[{$ref:"#/$defs/groupsAndItems"},{properties:{columns:{description:"Columns that belong in this menu",$ref:"#/$defs/columnsWithHeaders"}},required:["columns"]}],unevaluatedProperties:!1},menusForOneWebView:{description:"Set of menus that are associated with a single tab",type:"object",properties:{includeDefaults:{description:"Indicates whether the platform default menus should be included for this webview",type:"boolean"},topMenu:{description:"Menu that opens when you click on the top left corner of a tab",$ref:"#/$defs/multiColumnMenu"},contextMenu:{description:"Menu that opens when you right click on the main body/area of a tab",$ref:"#/$defs/singleColumnMenu"}},additionalProperties:!1}}};Object.freeze(We);exports.AsyncVariable=it;exports.Collator=ot;exports.DateTimeFormat=de;exports.DocumentCombiner=ye;exports.FIRST_SCR_BOOK_NUM=De;exports.FIRST_SCR_CHAPTER_NUM=ke;exports.FIRST_SCR_VERSE_NUM=Ve;exports.LAST_SCR_BOOK_NUM=Me;exports.Mutex=Ne;exports.MutexMap=bt;exports.NonValidatingDocumentCombiner=yt;exports.NumberFormat=we;exports.PlatformEventEmitter=me;exports.UnsubscriberAsyncList=vt;exports.aggregateUnsubscriberAsyncs=cr;exports.aggregateUnsubscribers=lr;exports.at=Gt;exports.charAt=j;exports.codePointAt=Jt;exports.compareScrRefs=or;exports.createSyncProxyForAsyncObject=mt;exports.debounce=ut;exports.deepClone=A;exports.deepEqual=Ge;exports.deserialize=Ke;exports.endsWith=Te;exports.ensureArray=X;exports.escapeStringRegexp=Qt;exports.formatBytes=qr;exports.formatReplacementString=Lt;exports.formatScrRef=ur;exports.getAllObjectFunctionNames=dt;exports.getChaptersForBook=qe;exports.getCurrentLocale=Vr;exports.getErrorMessage=ht;exports.getLocalizeKeyForScrollGroupId=ze;exports.getLocalizeKeysForScrollGroupIds=ar;exports.getLocalizedIdFromBookNumber=ir;exports.groupBy=lt;exports.htmlEncode=kr;exports.includes=Pe;exports.indexOf=T;exports.isLocalizeKey=Yt;exports.isSerializable=Mr;exports.isString=ge;exports.isSubset=Je;exports.lastIndexOf=Be;exports.localizedStringsDocumentSchema=He;exports.menuDocumentSchema=We;exports.newGuid=at;exports.normalize=Ut;exports.offsetBook=rr;exports.offsetChapter=sr;exports.offsetVerse=nr;exports.ordinalCompare=Xt;exports.padEnd=Ht;exports.padStart=Wt;exports.projectSettingsDocumentSchema=Le;exports.scrRefToBBBCCCVVV=F;exports.serialize=G;exports.settingsDocumentSchema=Ue;exports.slice=Zt;exports.split=_;exports.startsWith=H;exports.stringLength=g;exports.substring=w;exports.toArray=Re;exports.transformAndEnsureRegExpArray=tr;exports.transformAndEnsureRegExpRegExpArray=er;exports.wait=be;exports.waitForDuration=pt;
//# sourceMappingURL=index.cjs.map
